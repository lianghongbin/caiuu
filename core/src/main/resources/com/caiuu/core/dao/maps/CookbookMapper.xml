<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.caiuu.core.dao.CookbookMapper" >
  <resultMap id="BaseResultMap" type="com.caiuu.core.entity.Cookbook" >
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="headpic" property="headPic" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="pid" property="pid" jdbcType="INTEGER" />
    <result column="pname" property="pname" jdbcType="VARCHAR" />
    <result column="pinyin" property="pinyin" jdbcType="VARCHAR" />
    <result column="cid" property="categoryId" jdbcType="INTEGER" />
    <result column="cname" property="cname" jdbcType="VARCHAR" />
    <result column="sid" property="sid" jdbcType="INTEGER" />
    <result column="sname" property="sname" jdbcType="VARCHAR" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="author" property="author" jdbcType="VARCHAR" />
    <result column="url" property="url" jdbcType="VARCHAR" />
    <result column="hit" property="hit" jdbcType="INTEGER" />
    <result column="hitlast" property="hitLast" jdbcType="INTEGER" />
    <result column="publishtime" property="publishTime" jdbcType="TIMESTAMP" />
  </resultMap>

    <insert id="insert" parameterType="Cookbook">
        insert into cookbook(headpic,name,pid,pname,pinyin,cid,cname,sid,sname,remark,author,url,publishtime)
            values(#{headPic},#{pname},#{pinyin},#{categoryId},#{cname},#{sid},#{sname},#{remark},#{author},#{url},now())
    </insert>

    <update id="update" parameterType="Cookbook">
        update cookbook set pid=#{pid},pname=#{pname},pinyin=#{pinyin},cid=#{cid},sid=#{sid},sname=#{sname},remark=#{remark},
                            author=#{author},url=#{url} where id=#{id}
    </update>

    <delete id="delete" parameterType="int">
        delete from cookbook where id=#{id}
    </delete>

    <select id="select" parameterType="int" resultType="Cookbook">
        select * from cookbook where id=#{id}
    </select>

    <select id="selectAll" resultType="Cookbook">
        select * from cookbook order by id desc
    </select>
</mapper>